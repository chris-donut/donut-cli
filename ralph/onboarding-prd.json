{
  "project": "User Onboarding Improvements",
  "branchName": "ralph/user-onboarding",
  "description": "Improve DOnut CLI onboarding by adding first-run detection, banner hints, demo-to-real transitions, and interactive wizards to achieve >50% demo-to-real conversion.",
  "userStories": [
    {
      "id": "UO-001",
      "title": "First-Run Detection",
      "description": "As a new user, I want the CLI to detect this is my first time and guide me, so that I know what to do without reading documentation.",
      "acceptanceCriteria": [
        "Detect first run when .env missing or ANTHROPIC_API_KEY not set",
        "Skip detection if user ran donut demo, donut setup, --help, or --version",
        "Show welcome screen with 3 options: Demo, Setup, Skip",
        "Route to demo tour when user selects option 1",
        "Route to setup wizard when user selects option 2",
        "Show helpful tip and continue when user selects skip",
        "Typecheck passes",
        "Lint passes"
      ],
      "priority": 1,
      "passes": false,
      "notes": "Modify src/index.ts - add isFirstRun() and showFirstRunWelcome() functions, intercept before program.parse()"
    },
    {
      "id": "UO-002",
      "title": "Banner Quick Start Hints",
      "description": "As a new user, I want to see available commands at a glance, so that I can start using the CLI without memorizing documentation.",
      "acceptanceCriteria": [
        "Create BANNER_WITH_HINTS constant in theme.ts",
        "Show hints for: donut demo tour, donut setup, donut chat, donut --help",
        "Display hints banner on first run and bare donut command",
        "Keep original banner for interactive modes (chat, paper trading)",
        "Typecheck passes",
        "Lint passes"
      ],
      "priority": 2,
      "passes": false,
      "notes": "Modify src/cli/theme.ts - add BANNER_WITH_HINTS and getBanner() helper"
    },
    {
      "id": "UO-003",
      "title": "Setup Wizard Post-Completion Guidance",
      "description": "As a user completing setup, I want clear next steps, so that I know what to do after configuration.",
      "acceptanceCriteria": [
        "Show contextual next steps based on what was configured",
        "If API key configured: suggest demo tour → chat → backtest progression",
        "If no API key: suggest demo mode with link to get API key",
        "Offer to start demo tour immediately after setup completion",
        "Export runSetupWizard() function for import from other modules",
        "Typecheck passes",
        "Lint passes"
      ],
      "priority": 3,
      "passes": false,
      "notes": "Modify src/cli/commands/setup.ts - enhance completion section around line 402-408"
    },
    {
      "id": "UO-004",
      "title": "Demo-to-Real Transition Prompts",
      "description": "As a user completing a demo scenario, I want guidance on trying real features, so that I convert from demo exploration to actual usage.",
      "acceptanceCriteria": [
        "Show transition prompt after each scenario completion",
        "If no API key: offer Setup wizard vs Continue demos",
        "If has API key: suggest context-specific real command based on scenario",
        "getting-started scenario suggests donut chat",
        "strategy-basics scenario suggests donut strategy build",
        "backtest-workflow scenario suggests donut backtest run",
        "trade-analysis scenario suggests donut paper start",
        "full-workflow scenario suggests donut chat",
        "Preserve existing navigation (menu, quit) as fallback options",
        "Typecheck passes",
        "Lint passes"
      ],
      "priority": 4,
      "passes": false,
      "notes": "Modify src/demo/tutorial-engine.ts - add showTransitionPrompt() after scenario completion"
    },
    {
      "id": "UO-005",
      "title": "Interactive Backtest Wizard",
      "description": "As a user wanting to run a backtest, I want a guided wizard when I don't know the flags, so that I can run my first backtest without reading help text.",
      "acceptanceCriteria": [
        "Detect when donut backtest run called with no flags",
        "Launch interactive wizard with 3 steps: Symbols, Time Range, Balance",
        "Symbols step: show popular options (BTCUSDT, ETHUSDT), accept comma-separated input",
        "Time Range step: offer presets (7/30/90 days) or custom timestamps",
        "Balance step: default to $10000, accept custom amount",
        "Show summary and confirmation before running backtest",
        "Preserve flag-based interface for scripting (don't break existing usage)",
        "Typecheck passes",
        "Lint passes"
      ],
      "priority": 5,
      "passes": false,
      "notes": "Modify src/cli/commands/backtest.ts - add runBacktestWizard() function, detect no-flags invocation in action handler"
    }
  ]
}
